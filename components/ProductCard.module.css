.card {
  position: relative;
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
  padding: 0;
  border-radius: 0.5rem; /* Sleek, tighter radius */
  /* Very subtle border instead of heavy shadow */
  border: 1px solid rgba(0, 0, 0, 0.04);
  box-shadow: none; /* Removed default shadow for sleekness */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  height: auto;
  width: 100%;
}

.card:hover {
  /* Minimal lift and subtle shadow on hover */
  transform: translateY(-2px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
    0 2px 4px -1px rgba(0, 0, 0, 0.03);
  border-color: rgba(0, 0, 0, 0.08);
}

.imageLink {
  position: relative;
  display: block;
  overflow: hidden;
  background-color: #f3f4f6;
  border-radius: 0;
  margin-bottom: 0;
  width: 100%;
  flex-shrink: 0;
  aspect-ratio: 3/4; /* Fixed aspect ratio for uniform grid */
}

.productImage {
  object-fit: cover;
  object-position: center;
  transition: opacity 0.5s ease, transform 0.5s ease;
  width: 100%;
  height: 100%;
}

.productImageHover {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  z-index: 1;
  transition: opacity 0.5s ease;
}

.card:hover .productImage {
  /* transform: scale(1.03); */
}

.card:hover .productImageHover {
  opacity: 1;
  z-index: 5; /* Ensure it is above main image and overlay if needed, but below badges/actions (z-10) */
}

.overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 70%,
    rgba(0, 0, 0, 0.02) 100%
  );
  pointer-events: none;
  z-index: 2;
}

.badges {
  position: absolute;
  top: 0.5rem;
  left: 0.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  z-index: 10;
}

.badge {
  font-size: 0.55rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 0.2rem 0.4rem;
  font-weight: 700;
  border-radius: 0.2rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.badgeFeatured {
  background-color: #111;
  color: #fff;
}

.badgeSoldOut {
  background-color: rgba(255, 255, 255, 0.95);
  color: #ef4444;
}

.actions {
  position: absolute;
  bottom: 0.5rem; /* Move to bottom right of image for modern app feel */
  right: 0.5rem;
  display: flex;
  flex-direction: column; /* Stacked vertically */
  gap: 0.5rem;
  z-index: 10;
  opacity: 1; /* Always visible as per request to "add them" */
  transform: none;
}

.actionButton {
  background-color: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(4px);
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
  color: #111;
  border: 1px solid rgba(0, 0, 0, 0.05);
  cursor: pointer;
}

.actionButton:hover {
  background-color: #fff;
  transform: scale(1.05);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.12);
}

.info {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  gap: 0.25rem;
  min-height: 0;
  overflow: hidden;
  padding: 0.75rem; /* Ensure padding is present */
}

.headerRow {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 0.25rem;
  min-width: 0;
}

.category {
  font-size: 0.75rem;
  line-height: 1rem;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 600;
  flex-shrink: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 60%;
}

.reviews {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  flex-shrink: 0;
  white-space: nowrap;
}

.starIcon {
  fill: #000000;
  color: #000000;
  width: 1rem;
  height: 1rem;
  flex-shrink: 0;
}

.rating {
  font-size: 0.75rem;
  font-weight: 600;
  color: #374151;
  white-space: nowrap;
}

.reviewCount {
  font-size: 0.75rem;
  color: #9ca3af;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 4rem;
}

.titleLink {
  transition: color 0.2s ease;
  text-decoration: none;
  display: block;
  min-width: 0;
}

.card:hover .titleLink {
  color: #4b5563;
}

.title {
  font-weight: 600;
  font-size: 1rem;
  line-height: 1.5rem;
  color: #111827;
  margin-bottom: 0.5rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;
  height: 3rem;
}

.priceRow {
  margin-top: auto;
  padding-top: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  min-width: 0;
}

.price {
  font-weight: 700;
  font-size: 1.125rem;
  color: #111827;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 1;
  max-width: 100%;
}

/* Tablet Responsiveness */
@media (max-width: 1024px) {
  .card {
    padding: 0.625rem;
  }

  .actionButton {
    width: 2.25rem;
    height: 2.25rem;
  }

  .title {
    font-size: 0.9375rem;
    line-height: 1.375rem;
    height: 2.75rem;
  }

  .price {
    font-size: 1rem;
  }

  .category {
    max-width: 55%;
  }
}

/* Mobile Responsiveness */
@media (max-width: 640px) {
  .card {
    padding: 0; /* Flush card content */
    border-radius: 0.5rem;
    box-shadow: none; /* Flat look often cleaner on mobile apps */
    border: none; /* cleaner */
  }

  .imageLink {
    margin-bottom: 0.5rem;
    border-radius: 0.5rem; /* Match card radius if flush, or slightly less */
  }

  .badges {
    top: 0.35rem;
    left: 0.35rem;
    gap: 0.2rem;
  }

  .badge {
    font-size: 0.5rem;
    padding: 0.15rem 0.35rem;
    border-radius: 0.2rem;
  }

  .actions {
    /* On mobile apps, actions often overlaid or hidden until tap, 
       but user asked for them. Let's make them small and cornered 
       or maybe purely visual icons without big buttons. 
       Let's stick to the buttons but smaller. */
    bottom: 0.35rem;
    right: 0.35rem;
    gap: 0.35rem;
    opacity: 1; /* Always visible on touch devices */
  }

  .actionButton {
    width: 1.75rem;
    height: 1.75rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .info {
    padding: 0 0.25rem 0.5rem 0.25rem; /* Very tight padding */
    gap: 0.2rem;
  }

  .headerRow {
    gap: 0.25rem;
    margin-bottom: 0.1rem;
  }

  .category {
    font-size: 0.6rem;
    max-width: 60%;
    margin-bottom: 0;
  }

  .title {
    font-size: 0.8rem; /* Compact title */
    line-height: 1.1;
    margin-bottom: 0.1rem;
    height: auto;
    max-height: 2.2rem;
    -webkit-line-clamp: 2;
  }

  .reviews {
    gap: 0.1rem;
  }

  .starIcon {
    width: 0.7rem;
    height: 0.7rem;
  }

  .rating {
    font-size: 0.65rem;
  }

  .reviewCount {
    font-size: 0.65rem;
    display: none; /* Hide count on mobile to save space/clutter? Or keep minimal */
  }

  .priceRow {
    padding-top: 0.25rem;
  }

  .price {
    font-size: 0.9rem;
  }
}

/* Small Mobile Devices */
@media (max-width: 380px) {
  .badges {
    max-width: calc(100% - 2.5rem);
  }

  .title {
    font-size: 0.75rem;
  }
}

/* Improve text readability on all devices */
@media (prefers-reduced-motion: reduce) {
  .card,
  .productImage,
  .actionButton {
    transition: none;
  }
}
